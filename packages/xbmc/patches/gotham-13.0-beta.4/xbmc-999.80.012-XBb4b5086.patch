From b4b5086414d58bdb3214a9be6ce7b4e7098977cf Mon Sep 17 00:00:00 2001
From: Jonathan Marshall <jmarshall@xbmc.org>
Date: Sat, 29 Mar 2014 12:28:45 +1300
Subject: [PATCH] [gui] fix crash if an info expression (with square brackets)
 wasn't correctly closed off by a skin.

---
 xbmc/interfaces/info/InfoExpression.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/xbmc/interfaces/info/InfoExpression.cpp b/xbmc/interfaces/info/InfoExpression.cpp
index d84f0c6..f4d32c1 100644
--- a/xbmc/interfaces/info/InfoExpression.cpp
+++ b/xbmc/interfaces/info/InfoExpression.cpp
@@ -177,7 +177,7 @@ bool InfoExpression::Evaluate(const CGUIListItem *item, bool &result)
       bool left = save.top(); save.pop();
       save.push(left || right);
     }
-    else  // operand
+    else if (expr >= 0) // operand
       save.push(m_operands[expr]->Get(item));
   }
   if (save.size() != 1)
-- 
1.8.5.5

